---
title: "配置路由规则"
description: "配置路由规则实现将相同类型或相关业务的告警事件分发到对应的协作空间中，实现信息分类处理、分析等"
date: "2024-05-14T10:00:00+08:00"
url: "https://docs.flashcat.cloud/zh/flashduty/alert-routings"
---

通过共享集成接入告警事件时，可以配置路由规则实现将相同类型或相关业务的告警事件分发到对应的协作空间中，实现信息分类处理、分析等。

## 如何配置
---
配置路径：**集成中心=>告警事件=>某集成类型=>创建路由**

**1. 添加路由：** 路由可以添加多个，目前没限制，但建议保持简洁，规则过多时会导致可读性变差。
**2. 调整顺序：** 当路由规则有两个及以上个时，可以通过上下箭头调整规则的生效顺序。
**3. 路由规则：** 支持多条件多规则进行逻辑运算（同时可以区分匹配或不匹配运算），条件匹配时指出多种匹配模式，如精确匹配、通配符、正则等。您可以前往 [配置过滤条件](https://docs.flashcat.cloud/zh/flashduty/how-to-filter)，了解如何配置限制条件。
**4. 流程控制：** 当路由规则有两个及以上个时，可以选择**停止或继续**匹配下一规则，默认是**继续匹配**，则表示下面的路由继续生效，选择**停止**时，则下方规则不生效。
**5. 预览规则：** 规则配置完成后，可以查看配置表达式。
**6. 插入路由：** 当路由规则有两个及以上个时，可以从某个路由前后插入新的路由，省去调整顺序的操作。
**7. 默认路由：** 共享集成至少有一个路由规则才可以接收到告警事件，所以提供了默认路由规则，当不配置路由规则或配置的路由规则不匹配是将通过默认路由分发到对应的协作空间。
**8. 投递空间：** 可以选择将匹配的告警投递到多个协作空间。

<img src="https://img.github.io/6OTNxniH4889Qyk8SdVuF3-vrYcF9bxAE2CGG329U0s.avif"  width="800">

## 配置示例
---

### 1. 相同业务组分发到同一空间
**场景：** 将来源 FlashCat 监控平台中相同业务组的告警接入到统一协作空间。
**规则：** 根据 Labels.group_name 标签匹配。

<img src="https://img.github.io/6zBXABVJ4xFMBJd7MQ7oT8Sla6LZa19rMPbUjXJ4IT4.avif"  width="800">



## 常见问题
---
<details>
<summary>路由规则没有生效？</summary>
请查看告警事件是否跟规则匹配以及规则配置是否正确。
</details>

<details>
<summary>多个路由规则相同时，投递到相同协作空间时会怎么处理？</summary>
会向每个协作空间生成相应的故障，建议在同一规则中选择多个协作空间。
</details>


<details>
<summary>配置路由规则后收不到告警了？</summary>
请确认上报的告警事件是否可以命中配置的路由规则，建议配置一个默认兜底路由来接收无法匹配的告警事件。
</details>

<details>
<summary>当路由规则流程控制选择的是停止时，是否会匹配默认路由？</summary>
会匹配，默认路由是兜底路由，不受流程控制的限制。
</details>